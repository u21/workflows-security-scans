name: Security-Scans

on: 
  workflow_call:
    secrets:
      GITGUARDIAN:
        required: false
      VERACODE_API_ID:
        required: false
      VERACODE_API_KEY:
        required: false
        
env :
  GITGUARDIAN_API_KEY: ${{ secrets.GITGUARDIAN }}
  VERACODE_API_ID: ${{ secrets.VERACODE_API_ID }}
  VERACODE_API_KEY: ${{ secrets.VERACODE_API_KEY }}

jobs :
  veracode :
    runs-on : ubuntu-latest
    steps :

      - name : checkout
        uses : actions/checkout@v2

      - name : run veracode
        run : |
              FILE=veracode_baseline.json
              if [ -f "$FILE" ]; then
                  echo "$FILE exists."
              else 
                  echo "$FILE does not exist."
              fi